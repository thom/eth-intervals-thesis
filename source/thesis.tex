%==============================================================================
% thesis.tex
%==============================================================================

%------------------------------------------------------------------------------
% Variables
%------------------------------------------------------------------------------

\providecommand{\Subject}{Subject}
\providecommand{\SmallTitle}{Master's Thesis}
\providecommand{\Title}{An Advanced Scheduler for Intervals}
\providecommand{\Author}{Thomas Weibel, <weibelt@ethz.ch>}
\providecommand{\Advisors}{Nicholas D. Matsakis and Prof. Thomas Gross}
\providecommand{\Date}{August 2010}
\providecommand{\PdfTitle}{\SmallTitle: \Title}
\providecommand{\PdfAuthor}{\Author}
\providecommand{\PdfCreator}{LaTeX2e, KOMA-Script}
\providecommand{\PdfSubject}{\Subject}
\providecommand{\PdfKeywords}{Master's Thesis, Thomas Weibel,
  Intervals, Parallel Programming}
\providecommand{\UpperTitleBack}{}
\providecommand{\LowerTitleBack}{
Swiss Federal Institute of Technology Z\"urich\\
Laboratory for Software Technology\\
Department of Computer Science\\
8092 Z\"urich, Switzerland
}


%------------------------------------------------------------------------------
% Document class and packages
%------------------------------------------------------------------------------

\documentclass[
  pagesize=auto,          % write pagesize to DVI or PDF
  paper=a4,               % use ISO A4
  BCOR12mm,               % binding correction
  twoside,                % two sided (duplex)
%  halfparskip,
  chapterprefix,
  appendixprefix,
  final                   % final version
]{scrbook}

% Miscellaneous
\usepackage{color}
\usepackage{listings}
\usepackage{ae,aecompl} 
\usepackage{fncychap}
\usepackage{url}

% Internationalisation
\usepackage{ucs}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}

\usepackage[margin=10pt,font=small,labelfont=bf,format=hang]{caption}

% Compilation with pdflatex
\ifpdfoutput{
  \usepackage[pdftex]{graphicx}
  \usepackage[
    pdftex,
    bookmarks,
    bookmarksnumbered,    % index with numbering
    colorlinks=true,      % links with color, otherwise with border
    linkcolor=blue,       % standard: red
    citecolor=blue,       % standard: green
    urlcolor=magenta,     % standard: cyan
    filecolor=blue,
    pagecolor=blue,
    menucolor=blue,
    pdftitle={\PdfTitle},
    pdfauthor={\PdfAuthor},
    pdfcreator={\PdfCreator},
    pdfsubject={\PdfSubject},
    pdfkeywords={\PdfKeywords}
  ]{hyperref}
}
% Compilation with latex
{
  \RequirePackage[plainpages=true]{hyperref}
  \usepackage{graphicx}
}


%------------------------------------------------------------------------------
% Configuration
%------------------------------------------------------------------------------

\graphicspath{{../figures/}}

\captionsetup[lstlisting]{skip=10pt}

% Listings
\lstdefinestyle{Default}{
  language=Java,
  tabsize=2,
  mathescape=true,
  escapechar=\%,
  showstringspaces=false,
  fontadjust=true,
  basicstyle=\ttfamily,
  keywordstyle=\color{blue}\bfseries,
  captionpos=b,
  breaklines=true,
%  breakautoindent=true,
%  prebreak=\mbox{{\color{blue}\tiny{ }$\searrow$}},
%  postbreak=\mbox{{\color{blue}\tiny$\rightarrow${ }}},
  tabsize=2,
  xleftmargin=0.5em,
  xrightmargin=0.5em,
  numbers=left,
  numberstyle=\tiny,
  escapeinside={//*}{\^^M},
}

\lstdefinestyle{Float}{
  float=htb,
}

\lstset{style=Default}

% Workaround for \lstlistoflistings
\makeatletter
\@ifundefined{float@listhead}{}{
    \renewcommand*{\lstlistoflistings}{
        \begingroup
    	    \if@twocolumn
                \@restonecoltrue\onecolumn
            \else
                \@restonecolfalse
            \fi
            \float@listhead{\lstlistlistingname}
            \setlength{\parskip}{\z@}
            \setlength{\parindent}{\z@}
            \setlength{\parfillskip}{\z@ \@plus 1fil}
            \@starttoc{lol}
            \if@restonecol\twocolumn\fi
        \endgroup
    }%
}
\makeatother


%------------------------------------------------------------------------------
% Commands
%------------------------------------------------------------------------------

\newcommand{\hr}{\noindent\rule{\textwidth}{1pt}}

\renewcommand\uppertitleback[1]{
  \thispagestyle{empty}
  
  \noindent
  \begin{minipage}[t]{\textwidth}
    #1
  \end{minipage}\par
  \vfill
}

\renewcommand\lowertitleback[1]{
  \noindent
  \begin{minipage}[b]{\textwidth}
    #1
  \end{minipage}
}


%------------------------------------------------------------------------------
% Document
%------------------------------------------------------------------------------

\begin{document}

\frontmatter
\include{titlepage}
\include{abstract}
\include{acknowledgement}
\include{toc}

\mainmatter
\include{introduction}
\include{intervals}
\include{work-stealing-scheduler}

% Part: Work-stealing Queue Implementations
\include{queues-introduction}
\include{queues-related-work}
\include{queues-approach}
\include{queues-implementation}
\include{queues-evaluation}
\include{queues-conclusion}
\include{queues-future-work}

% Part: Locality-aware Work-stealing
\include{locality-introduction}
\include{locality-related-work}
\include{locality-approach}
\include{locality-implementation}
\include{locality-evaluation}
\include{locality-conclusion}
\include{locality-future-work}

\appendix
% Part: Appendices
\include{experimental-setup}
\include{benchmarks}
\include{literature-review}

\backmatter
\include{bibliography}

\end{document}